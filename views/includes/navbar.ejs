<nav class="navbar app-navbar shadow-sm px-3">
  <div class="d-flex align-items-center w-100">

    <div class="d-flex align-items-center">
      <i class="bi bi-journal-text app-logo me-2"></i>
      <span class="app-brand fw-semibold">My Notes</span>
    </div>

    <div class="ms-auto d-flex align-items-center gap-2">

      <button id="themeToggle" class="btn btn-sm btn-outline-secondary">
        <i class="bi bi-moon-stars" id="themeIcon"></i>
      </button>

      <div class="dropdown">

        <% if (!req.user) { %>
          <button class="btn btn-sm btn-outline-primary dropdown-toggle"
                data-bs-toggle="dropdown">
            <i class="bi bi-person-circle me-1"></i> Account
          </button>

          <ul class="dropdown-menu dropdown-menu-end">
            <li>
              <a class="dropdown-item" href="/login">
                <i class="bi bi-box-arrow-in-right me-2"></i> Login
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="/register">
                <i class="bi bi-person-plus me-2"></i> Signup
              </a>
            </li>
          </ul>

        <% } else { %>
          <button class="btn btn-sm btn-outline-primary dropdown-toggle"
                  data-bs-toggle="dropdown">
            <i class="bi bi-person-circle me-1"></i> <%= req.user.username %>
          </button>

          <ul class="dropdown-menu dropdown-menu-end">
            <li>
              <a class="dropdown-item" href="/notes">
                <i class="bi bi-journal-text me-2"></i> My Notes
              </a>
            </li>

            <li><hr class="dropdown-divider"></li>

            <li>
              <a class="dropdown-item text-danger" href="/logout">
                <i class="bi bi-box-arrow-right me-2"></i> Logout
              </a>
            </li>
          </ul>

        <% } %>
      </div>

      <button class="btn btn-sm btn-outline-secondary d-md-none" type="button"
              data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas">
        <i class="bi bi-list"></i>
      </button>

    </div>
  </div>
</nav>
